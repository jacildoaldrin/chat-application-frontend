(this["webpackJsonpchat-application"]=this["webpackJsonpchat-application"]||[]).push([[0],{123:function(e,t,a){e.exports=a(250)},128:function(e,t,a){},145:function(e,t,a){},184:function(e,t){},187:function(e,t,a){},188:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},246:function(e,t,a){},248:function(e,t,a){},250:function(e,t,a){"use strict";a.r(t);var n,r=a(1),o=a.n(r),c=a(12),l=a.n(c),m=(a(128),a(10)),s=a(25),i=a(9),u=a(13),d=a.n(u),E=(a(145),function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),l=Object(i.a)(c,2),s=l[0],u=l[1],E=Object(r.useState)(Boolean),p=Object(i.a)(E,2),f=p[0],h=p[1];return Object(r.useEffect)((function(){d.a.post("".concat("https://chat-application-backend.herokuapp.com","/user/login"),{username:a,password:s},{headers:{"Content-Type":"application/json"}}).then((function(e){h(null!=e.data[0])}))}),[a,s]),o.a.createElement("section",{id:"loginCover",className:"min-vh-100"},o.a.createElement("div",{id:"cover-caption"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row text-white"},o.a.createElement("div",{className:"col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto text-center form p-4"},o.a.createElement("div",{className:"formContainer"},o.a.createElement("h1",{className:"display-4 py-2"},"Admin Login"),o.a.createElement("div",null,o.a.createElement("div",{className:"justify-content-center"},o.a.createElement("form",{className:"form-group"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Username",onChange:function(e){return n(e.target.value)},required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"password",placeholder:"Password",onChange:function(e){return u(e.target.value)},required:!0})),o.a.createElement(m.b,{onClick:function(e){return f?null:e.preventDefault()},to:"/admin"},o.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg full-width"},"Submit"))),o.a.createElement(m.b,{to:"/"},o.a.createElement("strong",null,o.a.createElement("u",null,"back to main")))))))))))}),p=a(122),f=a(112),h=a.n(f),v=a(113),b=a.n(v),g=(a(187),a(188),function(e){var t=e.message,a=e.sendMessage,n=e.setMessage;return o.a.createElement("form",{id:"form",onSubmit:function(e){return t?a(e):e.preventDefault()}},o.a.createElement("input",{id:"input",type:"text",value:t,onChange:function(e){n(e.target.value)},placeholder:"Aa."}),o.a.createElement("button",{id:"sendButton",type:"submit"},o.a.createElement("i",{className:"material-icons",id:"send-icon"},"send")))}),N=a(47),w=a.n(N),y=(a(222),function(e){var t;switch(e.message.username){case e.username:t=o.a.createElement("div",null,o.a.createElement("strong",{className:"userMessage colorDark"},"You"),o.a.createElement("div",{className:"messageContainer justifyEnd"},o.a.createElement("div",{className:"messageBox-sender backgroundBlue"},o.a.createElement("p",{className:"messageText colorWhite"},e.message.message))));break;case"System":t=e.message.user===e.username?o.a.createElement("div",{className:"systemMessage"},o.a.createElement("p",{className:"messageText colorDark"},"You joined the room, ",e.message.roomname,".")):o.a.createElement("div",{className:"systemMessage"},o.a.createElement("p",{className:"messageText colorDark"},e.message.message));break;default:t=o.a.createElement("div",null,o.a.createElement("strong",{className:"chatMessage colorDark"},e.message.username),o.a.createElement("div",{className:"messageContainer justifyStart"},o.a.createElement("div",{className:"messageBox backgroundLight"},o.a.createElement("p",{className:"messageText colorDark"},e.message.message))))}return t}),j=(a(223),function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{className:"messages"},e.messages.map((function(t,a){return o.a.createElement("div",{key:a},o.a.createElement("div",null,o.a.createElement(y,{message:t,username:e.username})))}))))}),O=(a(224),function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{className:"rooms-container"},e.rooms.map((function(t,a){return o.a.createElement("div",{key:a},o.a.createElement("div",{onClick:function(a){return e.currentroom===t.roomname?a.preventDefault():e.switchRoom(a,t.roomname)}},e.currentroom===t.roomname?o.a.createElement("div",{className:"room-item room-selected"},o.a.createElement("i",{className:"material-icons enter-icon mr-5"},"input"),o.a.createElement("strong",null,t.roomname)):o.a.createElement("div",{className:"room-item"},o.a.createElement("i",{className:"material-icons enter-icon mr-5"},"input"),o.a.createElement("strong",null,t.roomname))))}))))}),k=function(e){return o.a.createElement("div",{className:"infoBar"},o.a.createElement("div",{className:"leftChatContainer"},o.a.createElement("h3",null,o.a.createElement("strong",null,"Welcome, ",e.username," !!!"))))},D=function(){return o.a.createElement("div",{className:"infoBar"},o.a.createElement("h3",{className:"centered"},o.a.createElement("strong",null,"Room List")))},S=(a(225),function(){return o.a.createElement("div",{className:"exit-container"},o.a.createElement(m.b,{to:"/"},o.a.createElement("button",{className:"exit-button"},"DISCONNECT")))}),C=function(e){var t=e.location,a=Object(r.useState)(""),c=Object(i.a)(a,2),l=c[0],m=c[1],s=Object(r.useState)(""),u=Object(i.a)(s,2),E=u[0],f=u[1],v=Object(r.useState)([]),N=Object(i.a)(v,2),w=N[0],y=N[1],C=Object(r.useState)(""),R=Object(i.a)(C,2),x=R[0],M=R[1],T=Object(r.useState)([]),Y=Object(i.a)(T,2),B=Y[0],L=Y[1];Object(r.useEffect)((function(){var e=h.a.parse(t.search).username;m(e),f("Default"),A(),(n=b()("https://chat-application-backend.herokuapp.com")).emit("new-user",{username:e,room:"Default"})}),[t.search]),Object(r.useEffect)((function(){n.on("new-room",(function(e){f(e)}))}),[E]),Object(r.useEffect)((function(){n.on("chat-message",(function(e){L((function(t){return[].concat(Object(p.a)(t),[e])}))}))}),[]);var A=function(){d.a.get("".concat("https://chat-application-backend.herokuapp.com","/room/room-list-active")).then((function(e){y(e.data)}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"outerContainer"},o.a.createElement("div",{className:"chatContainer"},o.a.createElement(k,{username:l,room:E}),o.a.createElement(j,{messages:B,username:l}),o.a.createElement(g,{message:x,setMessage:M,sendMessage:function(e){e.preventDefault(),x&&(n.emit("send-message",x),M(""))}})),o.a.createElement("div",{className:"roomsContainer"},o.a.createElement("div",{className:"roomList"},o.a.createElement(D,null),o.a.createElement("div",{className:"roomList-innerContainer"},o.a.createElement(O,{rooms:w,currentroom:E,username:l,switchRoom:function(e,t){e.preventDefault(),L([]),n.emit("leave-room",E),n.emit("join-room",t)}}),o.a.createElement(S,null))))))},R=(a(226),function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement("section",{id:"cover",className:"min-vh-100"},o.a.createElement("div",{id:"cover-caption"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row text-white"},o.a.createElement("div",{className:"col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto text-center form p-4"},o.a.createElement("h1",{className:"display-4 py-1 text-truncate"},"Enter Username"),o.a.createElement("div",{className:"px-2"},o.a.createElement("div",{className:"justify-content-center"},o.a.createElement(m.b,{onClick:function(e){return a?null:e.preventDefault()},to:{pathname:"/chatroom",search:"?username=".concat(a)}},o.a.createElement("form",{className:"form-group",id:"join-form"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"Username",onChange:function(e){return n(e.target.value)}})),o.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg full-width"},"Submit"))),o.a.createElement(m.b,{to:"/login"},o.a.createElement("strong",{style:{color:"white"}},o.a.createElement("u",null,"admin login"))))))))))}),x=a(29),M=a(30),T=a(31),Y=a(33),B=a(259),L=a(256),A=a(20),H=a.n(A),I=a(52),F=function(e){Object(Y.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).wrapper=o.a.createRef(),n.state={columns:[{label:"ID",field:"id",sort:"asc",width:150},{label:"Type",field:"type",sort:"asc",width:150},{label:"Date",field:"date",sort:"asc",width:150},{label:"Time",field:"time",sort:"asc",width:150},{label:"User",field:"user",sort:"asc",width:150},{label:"Room",field:"room",sort:"asc",width:150},{label:"Description",field:"description",sort:"asc",width:150}],rows:[]},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){this.fetchEvents()}},{key:"fetchEvents",value:function(){var e=this;d.a.get("https://chat-application-backend.herokuapp.com/event/event-history").then((function(t){e.setState({rows:t.data});var a=[];for(var n in e.state.rows){var r={id:e.state.rows[n]._id,type:e.state.rows[n].type,date:H()(new Date(e.state.rows[n].date)).format("MM/DD/YYYY"),time:H()(new Date(e.state.rows[n].date)).format("hh:mm:ss"),user:e.state.rows[n].user,room:e.state.rows[n].room,description:e.state.rows[n].description};a.push(r)}e.setState({rows:a})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"tableContainer"},o.a.createElement(I.c,{striped:!0,bordered:!0,small:!0,data:this.state,className:"mdb"}))}}]),a}(o.a.Component),_=function(e){Object(Y.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).wrapper=o.a.createRef(),n.state={columns:[{label:"ID",field:"id",sort:"asc",width:150},{label:"Date",field:"date",sort:"asc",width:150},{label:"Time",field:"time",sort:"asc",width:150},{label:"Sender",field:"sender",sort:"asc",width:150},{label:"Room",field:"room",sort:"asc",width:150},{label:"Message",field:"messages",sort:"asc",width:150},{label:"Type",field:"type",sort:"asc",width:150}],rows:[]},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){this.fetchEvents()}},{key:"fetchEvents",value:function(){var e=this;d.a.get("https://chat-application-backend.herokuapp.com/message/message-history").then((function(t){e.setState({rows:t.data});var a=[];for(var n in e.state.rows){var r={id:e.state.rows[n]._id,date:H()(new Date(e.state.rows[n].date)).format("MM/DD/YYYY"),time:H()(new Date(e.state.rows[n].date)).format("hh:mm:ss a"),sender:e.state.rows[n].sender,room:e.state.rows[n].room,messages:e.state.rows[n].message,type:e.state.rows[n].type};a.push(r)}e.setState({rows:a})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"tableContainer"},o.a.createElement(I.c,{striped:!0,bordered:!0,hover:!0,data:this.state,className:"mdb"}))}}]),a}(o.a.Component),q=a(254),G=a(257),K=a(258),U=function(e){return o.a.createElement(G.a,{show:e.showAdd,onHide:e.closeAdd},o.a.createElement(G.a.Header,{closeButton:!0},o.a.createElement(G.a.Title,null,"Add Room")),o.a.createElement(G.a.Body,null,o.a.createElement(K.a,{onSubmit:function(t){return e.addRoom(t)}},o.a.createElement(K.a.Group,{controlId:"roomName"},o.a.createElement(K.a.Label,null,"Room Name"),o.a.createElement(K.a.Control,{type:"text",value:e.roomName,onChange:function(t){return e.setRoomName(t.target.value)},placeholder:"Enter Room Here",required:!0})),o.a.createElement(K.a.Group,{controlId:"roomStatus"},o.a.createElement(K.a.Label,null,"Room Status"),o.a.createElement(K.a.Control,{as:"select",value:e.roomStatus,onChange:function(t){return e.setRoomStatus(t.target.value)}},o.a.createElement("option",null,"active"),o.a.createElement("option",null,"inactive"))),o.a.createElement(q.a,{variant:"primary",type:"submit"},"Submit"))),o.a.createElement(G.a.Footer,null))},W=a(255),J=function(e){return o.a.createElement("div",{style:{width:"90%",marginLeft:"auto",marginRight:"auto",marginTop:"3em"}},o.a.createElement(W.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",id:"students"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"ID"),o.a.createElement("th",null,"Room"),o.a.createElement("th",null,"Create Date"),o.a.createElement("th",null,"Edit Date"),o.a.createElement("th",null,"Status"),o.a.createElement("th",null,"Action"))),o.a.createElement("tbody",null,e.rooms.map((function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null,t._id),o.a.createElement("td",null,t.roomname),o.a.createElement("td",null,H()(new Date(t.created)).format("MM/DD/YYYY - hh:mm:ss a")),o.a.createElement("td",null,t.edited?H()(new Date(t.edited)).format("MM/DD/YYYY - hh:mm:ss a"):"Not Applicable"),o.a.createElement("td",null,t.status),o.a.createElement("td",null,o.a.createElement("div",null,o.a.createElement("button",{variant:"primary",onClick:function(a){return e.editModal(a,t)},className:"edit-button"},"Edit"),o.a.createElement("button",{variant:"primary",onClick:function(a){return e.deleteRoom(a,t)},className:"delete-button"},"Delete"))))})))),o.a.createElement("br",null),o.a.createElement(G.a,{show:e.showEdit,onHide:e.closeEdit},o.a.createElement(G.a.Header,{closeButton:!0},o.a.createElement(G.a.Title,null,"Edit Room")),o.a.createElement(G.a.Body,null,o.a.createElement(K.a,{onSubmit:function(t){return e.editRoom(t)}},o.a.createElement(K.a.Group,{controlId:"roomName"},o.a.createElement(K.a.Label,null,"Room Name"),o.a.createElement(K.a.Control,{value:e.roomName,onChange:function(t){return e.setRoomName(t.target.value)},type:"text",placeholder:"Enter Room Here",required:!0})),o.a.createElement(K.a.Group,{controlId:"roomStatus"},o.a.createElement(K.a.Label,null,"Room Status"),o.a.createElement(K.a.Control,{as:"select",value:e.roomStatus,onChange:function(t){return e.setRoomStatus(t.target.value)}},o.a.createElement("option",null,"active"),o.a.createElement("option",null,"inactive"))),o.a.createElement(q.a,{variant:"primary",type:"submit"},"Save"))),o.a.createElement(G.a.Footer,null)))},P="https://chat-application-backend.herokuapp.com",$=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(Boolean),l=Object(i.a)(c,2),m=l[0],s=l[1],u=Object(r.useState)(Boolean),E=Object(i.a)(u,2),p=E[0],f=E[1],h=Object(r.useState)(""),v=Object(i.a)(h,2),b=v[0],g=v[1],N=Object(r.useState)(""),w=Object(i.a)(N,2),y=w[0],j=w[1],O=Object(r.useState)(""),k=Object(i.a)(O,2),D=k[0],S=k[1],C=function(){j(""),S("active"),s(!1)},R=function(){j(""),S("active"),f(!1)};Object(r.useEffect)((function(){S("active"),x()}),[]);var x=function(){d.a.get("".concat(P,"/room/room-list")).then((function(e){n(e.data)}))};return o.a.createElement("div",null,o.a.createElement("div",{style:{width:"10em",margin:"1em",marginTop:"2em",marginLeft:"3%"}},o.a.createElement(q.a,{variant:"primary",onClick:function(){return s(!0)}},"Add Room")),o.a.createElement("div",{className:"modal"},o.a.createElement(U,{showAdd:m,closeAdd:C,addRoom:function(e){e.preventDefault();var t={roomname:y,created:new Date,edited:null,status:D};d.a.post("https://chat-application-backend.herokuapp.com/room/create-room",t,{headers:{"Content-Type":"application/json"}}).then((function(e){C(),x()}))},roomName:y,setRoomName:j,roomStatus:D,setRoomStatus:S})),o.a.createElement(J,{rooms:a,closeEdit:R,editRoom:function(e){e.preventDefault(),d.a.put("https://chat-application-backend.herokuapp.com/room/room-status-update/".concat(b),{roomname:y,edited:new Date,status:D},{headers:{"Content-Type":"application/json"}}).then((function(e){R(),x()}))},showEdit:p,roomName:y,roomStatus:D,setRoomName:j,setRoomStatus:S,editModal:function(e,t){e.preventDefault(),j(t.roomname),S(t.status),g(t._id),f(!0)},deleteRoom:function(e,t){e.preventDefault(),console.log(t),d.a.delete("".concat(P,"/room/remove-room/").concat(t._id)).then((function(e){x()}))}}))},z=(a(246),function(e){Object(Y.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).state={},n.wrapper=o.a.createRef(),n}return Object(M.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{className:"myTabs",defaultActiveKey:"rooms",id:"uncontrolled-tab-example"},o.a.createElement(L.a,{className:"myTab",eventKey:"eventHistory",title:"Event History"},o.a.createElement(F,null)),o.a.createElement(L.a,{eventKey:"messageHistory",title:"Message History"},o.a.createElement(_,null)),o.a.createElement(L.a,{eventKey:"rooms",title:"Rooms"},o.a.createElement($,null))))}}]),a}(o.a.Component)),Q=(a(248),function(){return o.a.createElement("div",{id:"body"},o.a.createElement("h1",null,o.a.createElement("i",{className:"material-icons enter-icon mr-2",id:"adminIcon"},"perm_identity"),o.a.createElement("b",null,"Admin Page")),o.a.createElement("div",{className:"logoutBtn"},o.a.createElement(m.b,{to:"/"},o.a.createElement("button",{id:"adminLogoutBtn"},"Logout"))),o.a.createElement(z,null),o.a.createElement("div",{id:"adminFooter"},"\xa0"))}),V=(a(249),function(){return o.a.createElement(m.a,null,o.a.createElement(s.a,{path:"/",exact:!0,component:R}),o.a.createElement(s.a,{path:"/login",component:E}),o.a.createElement(s.a,{path:"/chatroom",component:C}),o.a.createElement(s.a,{path:"/admin",component:Q}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);